"use strict";function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var i=0;i<t.length;i++){var e=t[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function _createClass(n,t,i){return t&&_defineProperties(n.prototype,t),i&&_defineProperties(n,i),n}var Index=function(){function n(){_classCallCheck(this,n),this.con_list=$(".nav-item"),this.commodity=$(".commodity"),this.nav_menu_list=$(".nav-menu-list"),this.add(),this.o_box=document.querySelector("#box"),this.o_ul=document.querySelector("#top-ul"),this.o_img=this.o_ul.children,this.o_num=this.o_img.length,this.L_btn=$("#left"),this.R_btn=$("#right"),this.o_ol=$(".small-btn"),this.o_ol_li=$(".small-btn").get(0).children,this.cur_index=0,this.timer=null,this.addEvent(),this.auto(),this.slideshow_menu=$(".slideshow-menu a"),this.slideshow_list=$(".slideshow-list"),this.add2(),this.search_txt=$(".search-txt"),this.txt_arr=["小米1","红米k30至尊纪念碑","滚筒洗衣机","第一次的项目","为发烧而生"],this.randomKeyWord()}return _createClass(n,[{key:"randomKeyWord",value:function(){var n=this;setInterval(function(){n.search_txt.attr("placeholder","".concat(n.txt_arr[n.randomNum(0,n.txt_arr.length-1)]))},3e3)}},{key:"randomNum",value:function(n,t){var i;return t<n&&(n=(i=[t,n])[0],t=i[1]),Math.floor(Math.random()*(t-n+1)+n)}},{key:"add",value:function(){for(var n=this,s=this,t=0;t<7;t++)!function(e){n.con_list.get(e).onmouseenter=function(){s.nav_menu_list.css({height:287,"border-top":"1px solid #b0b0b0"}),$.get("./json/data.json",function(n){for(var t='<a href="#">\n                    <img src="'.concat(n[e].src,'" alt="').concat(n[e].alt,'">\n                    <p>').concat(n[e].name,'</p>\n                    <p class="price">').concat(n[e].price,"</p>\n                    </a>\n                            "),i=0;i<5;i++)s.commodity.get(i).innerHTML=t})},n.con_list.get(e).onmouseleave=function(){s.nav_menu_list.css({height:0,"border-top":0})}}(t);s.nav_menu_list.mouseenter(function(){s.nav_menu_list.css({height:287,"border-top":"1px solid #b0b0b0"})}),s.nav_menu_list.mouseleave(function(){s.nav_menu_list.css({height:0,"border-top":0})})}},{key:"addEvent",value:function(){var t=this,i=this;this.L_btn.click(function(){i.cur_index--,-1==i.cur_index&&(i.cur_index=i.o_num-1),i.lb()}),this.R_btn.click(function(){i.cur_index++,i.cur_index==i.o_num&&(i.cur_index=0),i.lb()});for(var n=0;n<this.o_num;n++)!function(n){$("<li>").appendTo(t.o_ol),t.o_ol_li[n].onmouseenter=function(){this.style.background="rgba(224, 223, 223, 0.9)"},t.o_ol_li[n].onmouseleave=function(){this.style.background="rgba(0,0,0,.4)",i.cur_index==n&&(this.style.background="rgba(224, 223, 223, 0.9)")}}(n);this.o_ol_li[0].style.background="rgba(224, 223, 223, 0.9)";for(var e=0;e<this.o_num;e++)!function(n){t.o_ol_li[n].onclick=function(){i.cur_index=n,i.lb()}}(e)}},{key:"lb",value:function(){for(var n=0;n<this.o_num;n++)sport(this.o_img[n],{opacity:0}),this.o_ol_li[n].style.background="rgba(0,0,0,.4)";sport(this.o_img[this.cur_index],{opacity:100}),this.o_ol_li[this.cur_index].style.background="rgba(224, 223, 223, 0.9)"}},{key:"auto",value:function(){var n=this,t=this;this.timer=setInterval(function(){n.cur_index++,n.cur_index==n.o_num&&(n.cur_index=0),n.lb(),n.o_box.onmouseover=function(){clearInterval(t.timer)},n.o_box.onmouseout=function(){t.auto()}},3e3)}},{key:"add2",value:function(){for(var n=this,i=this,t=0;t<10;t++)!function(t){n.slideshow_menu.get(t).onmouseenter=function(){$.get("./json/menu-list.json",function(n){n='\n                    <ul>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="'.concat(n[t].src,'" alt="">\n                                <span>').concat(n[t].name,'</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[t].src,'" alt="">\n                                <span>').concat(n[t].name,'</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[t].src,'" alt="">\n                                <span>').concat(n[t].name,'</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[t].src,'" alt="">\n                                <span>').concat(n[t].name,'</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[t].src,'" alt="">\n                                <span>').concat(n[t].name,"</span>\n                            </a>\n                        </li>\n                    </ul>\n                        ");t<2||4===t?i.slideshow_list.html(n+n+n+n):6==t?i.slideshow_list.html(n+n):i.slideshow_list.html(n+n+n)}),i.slideshow_list.css("visibility","visible")},n.slideshow_menu.get(t).onmouseleave=function(){i.slideshow_list.css("visibility","hidden")}}(t);i.slideshow_list.mouseenter(function(){$(this).css("visibility","visible")}),i.slideshow_list.mouseleave(function(){$(this).css("visibility","hidden")})}}]),n}();window.onload=function(){new Index};