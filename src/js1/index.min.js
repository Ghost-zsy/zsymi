"use strict";function _classCallCheck(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,a){for(var t=0;t<a.length;t++){var i=a[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _createClass(n,a,t){return a&&_defineProperties(n.prototype,a),t&&_defineProperties(n,t),n}var Index=function(){function n(){_classCallCheck(this,n),this.con_list=$(".nav-item"),this.commodity=$(".commodity"),this.nav_menu_list=$(".nav-menu-list"),this.add(),this.o_box=document.querySelector("#box"),this.o_ul=document.querySelector("#top-ul"),this.o_img=this.o_ul.children,this.o_num=this.o_img.length,this.L_btn=$("#left"),this.R_btn=$("#right"),this.o_ol=$(".small-btn"),this.o_ol_li=$(".small-btn").get(0).children,this.cur_index=0,this.timer=null,this.addEvent(),this.auto(),this.slideshow_menu=$(".slideshow-menu a"),console.log(this.slideshow_menu),this.slideshow_list=$(".slideshow-list"),this.add2()}return _createClass(n,[{key:"add",value:function(){for(var n=this,s=this,a=0;a<7;a++)!function(i){n.con_list.get(i).onmouseenter=function(){s.nav_menu_list.css({height:287,"border-top":"1px solid #b0b0b0"}),$.get("./json/data.json",function(n){for(var a='<a href="#">\n                    <img src="'.concat(n[i].src,'" alt="').concat(n[i].alt,'">\n                    <p>').concat(n[i].name,'</p>\n                    <p class="price">').concat(n[i].price,"</p>\n                    </a>\n                            "),t=0;t<5;t++)s.commodity.get(t).innerHTML=a})},n.con_list.get(i).onmouseleave=function(){s.nav_menu_list.css({height:0,"border-top":0})}}(a);s.nav_menu_list.mouseenter(function(){s.nav_menu_list.css({height:287,"border-top":"1px solid #b0b0b0"})}),s.nav_menu_list.mouseleave(function(){s.nav_menu_list.css({height:0,"border-top":0})})}},{key:"addEvent",value:function(){var a=this,t=this;this.L_btn.click(function(){t.cur_index--,console.log("下标"+t.cur_index),-1==t.cur_index&&(t.cur_index=t.o_num-1),t.lb()}),this.R_btn.click(function(){t.cur_index++,console.log("下标"+t.cur_index),t.cur_index==t.o_num&&(t.cur_index=0),t.lb()});for(var n=0;n<this.o_num;n++)!function(n){$("<li>").appendTo(a.o_ol),a.o_ol_li[n].onmouseenter=function(){this.style.background="rgba(224, 223, 223, 0.9)"},a.o_ol_li[n].onmouseleave=function(){this.style.background="rgba(0,0,0,.4)",t.cur_index==n&&(this.style.background="rgba(224, 223, 223, 0.9)")}}(n);this.o_ol_li[0].style.background="rgba(224, 223, 223, 0.9)";for(var i=0;i<this.o_num;i++)!function(n){a.o_ol_li[n].onclick=function(){console.log(n),t.cur_index=n,t.lb()}}(i)}},{key:"lb",value:function(){for(var n=0;n<this.o_num;n++)sport(this.o_img[n],{opacity:0}),this.o_ol_li[n].style.background="rgba(0,0,0,.4)";sport(this.o_img[this.cur_index],{opacity:100}),this.o_ol_li[this.cur_index].style.background="rgba(224, 223, 223, 0.9)"}},{key:"auto",value:function(){var n=this,a=this;this.timer=setInterval(function(){n.cur_index++,n.cur_index==n.o_num&&(n.cur_index=0),n.lb(),n.o_box.onmouseover=function(){clearInterval(a.timer)},n.o_box.onmouseout=function(){a.auto()}},3e3)}},{key:"add2",value:function(){for(var n=this,t=this,a=0;a<10;a++)!function(a){n.slideshow_menu.get(a).onmouseenter=function(){$.get("./json/menu-list.json",function(n){n='\n                    <ul>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="'.concat(n[a].src,'" alt="">\n                                <span>').concat(n[a].name,'</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[a].src,'" alt="">\n                                <span>').concat(n[a].name,'</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[a].src,'" alt="">\n                                <span>').concat(n[a].name,'</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[a].src,'" alt="">\n                                <span>').concat(n[a].name,'</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[a].src,'" alt="">\n                                <span>').concat(n[a].name,'</span>\n                            </a>\n                        </li>\n                    </ul>\n                    <ul>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[a].src,'" alt="">\n                                <span>').concat(n[a].name,'</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[a].src,'" alt="">\n                                <span>').concat(n[a].name,'</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[a].src,'" alt="">\n                                <span>').concat(n[a].name,'</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[a].src,'" alt="">\n                                <span>').concat(n[a].name,'</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[a].src,'" alt="">\n                                <span>').concat(n[a].name,'</span>\n                            </a>\n                        </li>\n                    </ul>\n                    <ul>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[a].src,'" alt="">\n                                <span>').concat(n[a].name,'</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[a].src,'" alt="">\n                                <span>').concat(n[a].name,'</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[a].src,'" alt="">\n                                <span>').concat(n[a].name,'</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[a].src,'" alt="">\n                                <span>').concat(n[a].name,'</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[a].src,'" alt="">\n                                <span>').concat(n[a].name,'</span>\n                            </a>\n                        </li>\n                    </ul>\n                    <ul>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[a].src,'" alt="">\n                                <span>').concat(n[a].name,'</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[a].src,'" alt="">\n                                <span>').concat(n[a].name,'</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[a].src,'" alt="">\n                                <span>').concat(n[a].name,'</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[a].src,'" alt="">\n                                <span>').concat(n[a].name,'</span>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="javascript:;">\n                                <img src="').concat(n[a].src,'" alt="">\n                                <span>').concat(n[a].name,"</span>\n                            </a>\n                        </li>\n                    </ul>\n                        ");t.slideshow_list.html(n)}),t.slideshow_list.css("opacity",1)},n.slideshow_menu.get(a).onmouseleave=function(){t.slideshow_list.css("opacity",0)}}(a);t.slideshow_list.mouseenter(function(){$(this).css("opacity",1)}),t.slideshow_list.mouseleave(function(){$(this).css("opacity",0)})}}]),n}();window.onload=function(){new Index};